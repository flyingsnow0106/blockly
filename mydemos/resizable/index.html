<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resized Blockly</title>
    <script src="../../blockly_compressed.js"></script>
    <script src="../../blocks_compressed.js"></script>
    <script src="../../msg/js/zh-hans.js"></script>
    <style>
        html,body {
            height: 100%;
            margin: 0;
        }
        body{
            background-color: #fff;
            font-family: 微软雅黑;
            overflow: hidden;
        }
        h1{
            font-weight: normal;
            font-size: 140%;
        }
        table{
            height: 100%;
            width: 100%;
        }
        #blocklyArea{
            height:99%;
            background: #fc9;
            text-align:center;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td>
                <h1>可变大小</h1>
                <p>改变浏览器的大小，编程区域也会随之改变，么么哒！</p>
            </td>
        </tr>
        <tr>
            <td id="blocklyArea">
                Blockly will be positioned here.
            </td>
        </tr>
    </table>


    <div id="blocklyDiv" style="position:absolute"></div>

    <xml id="toolbox" style="display:none">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <block type="controls_repeat_ext"></block>
        <block type="math_number"></block>
        <block type="text"></block>
        <block type="text_print"></block>
    </xml>

    <script>
        /*   var workspace = Blockly.inject('blocklyDiv',
         {media: '../../media/',
         toolbox: document.getElementById('toolbox')});*/
         var blocklyArea = document.getElementById('blocklyArea');
         var blocklyDiv = document.getElementById('blocklyDiv');
         var workspace = Blockly.inject(blocklyDiv,
         {media:'../../media/',
         toolbox: document.getElementById('toolbox')});
         var onresize = function(e){
         var element = blocklyArea;
         var x = 0;
         var y = 0;
         do{
         x += element.offsetLeft;
         y += element.offsetTop;
         element = element.offsetParent;
         }while(element);
         blocklyDiv.style.left = x + 'px';
         blocklyDiv.style.top = y + 'px';
         blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
         blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
         };
         window.addEventListener('resize', onresize, false);
         onresize();
         Blockly.svgResize(workspace);
    </script>
</body>
</html>